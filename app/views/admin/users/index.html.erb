<h1 class="h2 mb-4">Administración de Usuarios</h1>

<div class="card shadow mb-4">
  <div class="card-header py-3 d-flex justify-content-between align-items-center">
    <h6 class="m-0 font-weight-bold text-primary">Lista de Usuarios</h6>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered" id="usersTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th>Email</th>
            <th>Rol</th>
            <th>Fecha de registro</th>
            <th>Última actualización</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
            <tr>
              <td><%= user.email %></td>
              <td><span class="badge <%= user.role == 'admin' ? 'bg-danger' : 'bg-secondary' %>"><%= user.role || 'usuario' %></span></td>
              <td><%= user.created_at.strftime("%d/%m/%Y %H:%M") %></td>
              <td><%= user.updated_at.strftime("%d/%m/%Y %H:%M") %></td>
              <td>
                <%= link_to 'Ver', admin_user_path(user), class: 'btn btn-sm btn-info' %>
                <%= link_to 'Editar', edit_admin_user_path(user), class: 'btn btn-sm btn-primary' %>
                <%= button_to 'Eliminar', admin_user_path(user), method: :delete, 
                    data: { turbo_confirm: '¿Estás seguro de eliminar este usuario?' }, 
                    class: 'btn btn-sm btn-danger', form: { class: 'd-inline' } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>